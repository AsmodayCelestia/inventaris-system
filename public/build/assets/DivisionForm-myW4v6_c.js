import{u as v,c as _,E as f,a as b,o as h,B as D,b as x,e as s,g as y,t as c,H as w,I as g,j as S,w as k,q as l,v as B,l as E}from"./app-DjNxOoL9.js";import{S as o}from"./sweetalert2.esm.all-DGhwgajj.js";const T={class:"container mt-4"},C={class:"card"},N={class:"card-header d-flex justify-content-between"},V={class:"mb-0"},j={class:"card-body"},L={class:"form-group"},M={type:"submit",class:"btn btn-success"},R={__name:"DivisionForm",setup(q){const n=f(),d=D();v();const i=_(()=>!!n.params.id),t=b({name:""});h(()=>{i.value&&u()});async function u(){try{const{data:a}=await axios.get(`/divisions/${n.params.id}`);t.name=a.name}catch{o.fire("Error","Gagal memuat data divisi","error"),d.replace({name:"DivisionList"})}}async function m(){var a,e;try{i.value?(await axios.put(`/divisions/${n.params.id}`,t),o.fire("Berhasil","Divisi diperbarui","success")):(await axios.post("/divisions",t),o.fire("Berhasil","Divisi ditambahkan","success")),d.push({name:"DivisionList"})}catch(r){o.fire("Gagal",((e=(a=r.response)==null?void 0:a.data)==null?void 0:e.message)||"Terjadi kesalahan","error")}}return(a,e)=>{const r=g("router-link");return E(),x("div",T,[s("div",C,[s("div",N,[s("h5",V,c(i.value?"Edit Divisi":"Tambah Divisi"),1),y(r,{class:"btn btn-sm btn-secondary",to:{name:"DivisionList"}},{default:w(()=>e[1]||(e[1]=[l(" Kembali ",-1)])),_:1,__:[1]})]),s("div",j,[s("form",{onSubmit:S(m,["prevent"])},[s("div",L,[e[2]||(e[2]=s("label",null,[l("Nama Divisi "),s("span",{class:"text-danger"},"*")],-1)),k(s("input",{"onUpdate:modelValue":e[0]||(e[0]=p=>t.name=p),type:"text",class:"form-control",required:"",placeholder:"Contoh: IT"},null,512),[[B,t.name]])]),s("button",M,c(i.value?"Update":"Simpan"),1)],32)])])])}}};export{R as default};
