import{u as f,r as h,o as _,b as o,e as t,g as c,H as m,I as D,i as k,F as y,h as g,l as r,q as p,t as v}from"./app-6lUI17Zo.js";import{S as d}from"./sweetalert2.esm.all-DGhwgajj.js";const w={class:"container mt-4"},x={class:"d-flex justify-content-between align-items-center mb-3"},C={class:"table-responsive"},B={class:"table table-bordered table-hover"},N=["onClick"],S={key:0},F={__name:"DivisionList",setup(T){const u=f(),a=h([]);_(async()=>{a.value=await u.fetchDivisions()});async function b(l){var i,s;if((await d.fire({title:"Yakin hapus divisi ini?",icon:"warning",showCancelButton:!0,confirmButtonText:"Ya, hapus!"})).isConfirmed)try{await u.deleteDivision(l),a.value=a.value.filter(n=>n.id!==l),d.fire("Terhapus!","Divisi berhasil dihapus.","success")}catch(n){d.fire("Gagal",((s=(i=n.response)==null?void 0:i.data)==null?void 0:s.message)||"Terjadi kesalahan","error")}}return(l,e)=>{const i=D("router-link");return r(),o("div",w,[t("div",x,[e[1]||(e[1]=t("h3",null,"Daftar Divisi",-1)),c(i,{class:"btn btn-primary",to:{name:"DivisionCreate"}},{default:m(()=>e[0]||(e[0]=[p(" Tambah Divisi ",-1)])),_:1,__:[0]})]),t("div",C,[t("table",B,[e[4]||(e[4]=t("thead",{class:"thead-light"},[t("tr",null,[t("th",{style:{width:"60px"}},"#"),t("th",null,"Nama Divisi"),t("th",{style:{width:"120px"}},"Aksi")])],-1)),t("tbody",null,[(r(!0),o(y,null,g(a.value,(s,n)=>(r(),o("tr",{key:s.id},[t("td",null,v(n+1),1),t("td",null,v(s.name),1),t("td",null,[c(i,{class:"btn btn-sm btn-info mr-1",to:{name:"DivisionEdit",params:{id:s.id}}},{default:m(()=>e[2]||(e[2]=[p(" Edit ",-1)])),_:2,__:[2]},1032,["to"]),t("button",{class:"btn btn-sm btn-danger",onClick:V=>b(s.id)}," Hapus ",8,N)])]))),128)),a.value.length===0?(r(),o("tr",S,e[3]||(e[3]=[t("td",{colspan:"3",class:"text-center"},"Belum ada data divisi.",-1)]))):k("",!0)])])])])}}};export{F as default};
